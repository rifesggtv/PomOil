name: Deploy static HTML site to GitHub Pages

on:
  # Se ejecuta en los pushes al branch "main"
  push:
    branches: [ "main" ]
  # Se ejecuta en los pull requests dirigidos al branch "main" (opcional, para pruebas)
  pull_request:
    branches: [ "main" ]

  # Permite ejecutar este flujo de trabajo manualmente desde la pestaña Actions en GitHub
  workflow_dispatch:

# Establece los permisos del GITHUB_TOKEN para permitir el despliegue en GitHub Pages
permissions:
  contents: read
  pages: write
  id-token: write

# Permite solo un despliegue concurrente, descarta las ejecuciones en cola si no han comenzado.
# Sin embargo, no cancela las ejecuciones en progreso.
concurrency:
  group: "pages"
  cancel-in-progress: false

jobs:
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }} # URL de la página desplegada
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v4 # Acción para descargar tu código

      - name: Setup GitHub Pages
        uses: actions/configure-pages@v5 # Acción para configurar GitHub Pages

      - name: Upload site artifact
        uses: actions/upload-pages-artifact@v3 # Acción para empaquetar tu sitio
        with:
          # Sube el contenido desde la raíz del repositorio.
          # Si tu index.html estuviera en una subcarpeta (ej: 'dist/' o 'public/'),
          # cambiarías '.' por esa carpeta. Para nuestro caso, '.' está bien.
          path: '.'

      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4 # Acción que realiza el despliegue
